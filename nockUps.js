var nock = require('nock');
var nockOptions = {allowUnmocked: true};
nock.disableNetConnect();
nock.recorder.rec();
nock('https://portal.contegix.com:443', nockOptions)
  .filteringPath(/device_id=[^&]*/g, 'device_id=104149')
  .get('/api/2.0/?method=device.get&device_id=104149&modules=1&require_ip=1&metadata=1')
  .reply(200, "{\"status\":true,\"error_code\":null,\"error_message\":\"\",\"data\":{\"dev\":\"104149\",\"parent\":\"103939\",\"active\":\"1\",\"clientid\":\"101779\",\"packid\":\"103231\",\"dev_desc\":\"airnz01\",\"label\":\"airnz01\",\"client_owned\":\"0\",\"rack_id\":\"23\",\"rack_pos\":\"17\",\"type_id\":\"18\",\"power_status\":null,\"rack_units\":\"2\",\"height\":\"88.900000\",\"width\":\"482.600000\",\"depth\":\"609.600000\",\"front_image_file_id\":\"5\",\"back_image_file_id\":\"4\",\"type\":\"PowerEdge R710\",\"devtype_group_id\":\"1\",\"devtype_group_name\":\"Servers\",\"listed_company\":\"Air New Zealand\",\"first\":\"Chris\",\"last\":\"Trigg\",\"email\":\"\",\"phone\":\"\",\"desserv\":\"Managed Dell PowerEdge Server - airnz01 (Exh B)\",\"parent_desc\":\"pub620a10r31\",\"total\":\"0\",\"up\":\"0\",\"down\":\"0\",\"warn\":\"0\",\"disabled\":\"0\",\"last_change\":\"0\",\"last_poll\":\"0\",\"assignments\":{\"7807\":{\"assign_id\":\"7807\",\"group_id\":\"457\",\"device_id\":\"104149\",\"client_id\":\"101779\",\"service_id\":\"103231\",\"portable\":\"0\",\"addr\":\"0000000000000000000000000a328b0b\\/128\",\"addr_type\":\"1\",\"created_ts\":\"1390000466\",\"updated_ts\":\"1390000466\",\"last_ip\":\"0000000000000000000000000a328b0b\",\"num_ips\":\"1\",\"assign_description\":\"10.50.139.11\",\"group_description\":\"10.50.139.0\\/24 Managed Cab A14\",\"vlan_range_id\":\"490\",\"vlan_num\":\"914\",\"group_client_id\":\"0\",\"hsrp\":\"0\",\"vlan_type_id\":\"1\",\"listed_company\":\"Air New Zealand\",\"desserv\":\"Managed Dell PowerEdge Server - airnz01 (Exh B)\",\"servtype\":\"ded1\",\"dev_desc\":\"airnz01\",\"label\":\"airnz01\",\"addr_readable\":\"10.50.139.11\",\"addr_type_readable\":\"Global\"},\"7747\":{\"assign_id\":\"7747\",\"group_id\":\"22\",\"device_id\":\"104149\",\"client_id\":\"101779\",\"service_id\":\"103231\",\"portable\":\"0\",\"addr\":\"000000000000000000000000c7c1c704\\/128\",\"addr_type\":\"1\",\"created_ts\":\"1390000454\",\"updated_ts\":\"1390000454\",\"last_ip\":\"000000000000000000000000c7c1c704\",\"num_ips\":\"1\",\"assign_description\":\"199.193.199.4\",\"group_description\":\"199.193.199.0\\/25 Shared\",\"vlan_range_id\":\"13\",\"vlan_num\":\"124\",\"group_client_id\":\"0\",\"hsrp\":\"0\",\"vlan_type_id\":\"1\",\"listed_company\":\"Air New Zealand\",\"desserv\":\"Managed Dell PowerEdge Server - airnz01 (Exh B)\",\"servtype\":\"ded1\",\"dev_desc\":\"airnz01\",\"label\":\"airnz01\",\"addr_readable\":\"199.193.199.4\",\"addr_type_readable\":\"Global\"},\"10384\":{\"assign_id\":\"10384\",\"group_id\":\"22\",\"device_id\":\"104149\",\"client_id\":\"101779\",\"service_id\":\"103231\",\"portable\":\"0\",\"addr\":\"000000000000000000000000c7c1c722\\/128\",\"addr_type\":\"1\",\"created_ts\":\"1390000848\",\"updated_ts\":\"1390000848\",\"last_ip\":\"000000000000000000000000c7c1c722\",\"num_ips\":\"1\",\"assign_description\":\"199.193.199.34\",\"group_description\":\"199.193.199.0\\/25 Shared\",\"vlan_range_id\":\"13\",\"vlan_num\":\"124\",\"group_client_id\":\"0\",\"hsrp\":\"0\",\"vlan_type_id\":\"1\",\"listed_company\":\"Air New Zealand\",\"desserv\":\"Managed Dell PowerEdge Server - airnz01 (Exh B)\",\"servtype\":\"ded1\",\"dev_desc\":\"airnz01\",\"label\":\"airnz01\",\"addr_readable\":\"199.193.199.34\",\"addr_type_readable\":\"Global\"}},\"rack_position\":17,\"rack_name\":\"14\",\"rack\":{\"rack_id\":\"23\",\"row_id\":\"4\",\"zone_id\":\"3\",\"rack_name\":\"14\",\"rack_code\":\"620A14\",\"rack_type\":\"standard\",\"rack_u\":\"42\",\"rack_shelves\":\"0\",\"rack_slots\":\"0\",\"rack_direction\":\"bottom\",\"status\":\"0\",\"rofr_expiration_date\":\"0\",\"assigned_date\":\"0\",\"ac_power_capacity\":\"0\",\"dc_power_capacity\":\"0\",\"height\":\"1866.900000\",\"width\":\"482.600000\",\"depth\":\"1066.800000\",\"area\":\"0.514838\",\"client_id\":\"0\",\"service_id\":\"0\",\"fac_name\":\"210 North Tucker\",\"fac_code\":\"\",\"zone_name\":\"Suite 620\",\"zone_code\":\"\",\"cage_name\":\"Main\",\"cage_code\":\"\",\"row_name\":\"A\",\"row_code\":\"\",\"area_display_value\":5.5417,\"area_display_unit\":120,\"width_display_value\":19,\"width_display_unit\":1,\"depth_display_value\":42,\"depth_display_unit\":1,\"height_display_value\":73.5,\"height_display_unit\":1},\"row\":{\"row_id\":\"4\",\"cage_id\":\"3\",\"zone_id\":\"3\",\"row_name\":\"A\",\"row_code\":\"\",\"status\":0,\"fac_name\":\"210 North Tucker\",\"fac_code\":\"\",\"zone_name\":\"Suite 620\",\"zone_code\":\"\",\"cage_name\":\"Main\",\"cage_code\":\"\"},\"rack_type\":\"standard\",\"row_id\":\"4\",\"cage\":{\"cage_id\":\"3\",\"zone_id\":\"3\",\"cage_name\":\"Main\",\"cage_code\":\"\",\"cage_type\":\"0\",\"status\":\"0\",\"rofr_expiration_date\":\"0\",\"assigned_date\":\"0\",\"ac_power_capacity\":\"0\",\"dc_power_capacity\":\"0\",\"area\":\"0.000000\",\"width\":\"0.000000\",\"depth\":\"0.000000\",\"client_id\":\"0\",\"service_id\":\"0\",\"fac_name\":\"210 North Tucker\",\"fac_code\":\"\",\"zone_name\":\"Suite 620\",\"zone_code\":\"\",\"width_display_value\":0,\"width_display_unit\":1,\"depth_display_value\":0,\"depth_display_unit\":1,\"area_display_value\":0,\"area_display_unit\":120},\"cage_id\":\"3\",\"zone\":{\"zone_id\":\"3\",\"fac_id\":\"1\",\"zone_name\":\"Suite 620\",\"zone_code\":\"\",\"status\":\"0\",\"rofr_expiration_date\":\"0\",\"assigned_date\":\"0\",\"ac_power_capacity\":\"0\",\"dc_power_capacity\":\"0\",\"area\":\"0.000000\",\"client_id\":\"0\",\"service_id\":\"0\",\"fac_name\":\"210 North Tucker\",\"fac_code\":\"\",\"area_display_value\":0,\"area_display_unit\":120,\"width\":\"0.000000\",\"depth\":\"0.000000\",\"width_display_value\":0,\"width_display_unit\":1,\"depth_display_value\":0,\"depth_display_unit\":1},\"zone_id\":\"3\",\"facility\":{\"fac_id\":\"1\",\"fac_name\":\"210 North Tucker\",\"fac_code\":\"\",\"fac_description\":\"\",\"fac_address\":\"210 North Tucker\",\"fac_address2\":\"\",\"fac_city\":\"St. Louis\",\"fac_state\":\"MO\",\"fac_zip\":\"63101\",\"fac_country\":\"US\",\"phone\":\"314-622-6200\",\"status\":\"0\",\"rofr_expiration_date\":\"0\",\"assigned_date\":\"0\",\"access_notification\":\"\",\"ac_power_capacity\":\"0\",\"dc_power_capacity\":\"0\",\"area\":\"0.000000\",\"client_id\":\"0\",\"service_id\":\"0\",\"provider_client_id\":\"0\",\"area_display_value\":0,\"area_display_unit\":120},\"fac_id\":\"1\",\"height_display_value\":3.5,\"height_display_unit\":\"inches\",\"width_display_value\":19,\"width_display_unit\":\"inches\",\"depth_display_value\":2,\"depth_display_unit\":\"feet\",\"front_image_url\":\"\\/admin\\/file\\/5\\/view\",\"back_image_url\":\"\\/admin\\/file\\/4\\/view\",\"owner_type\":\"PACKAGE\",\"owner\":\"103231\",\"location\":\"620A14:17\",\"metadata\":{\"device_status\":\"Active\",\"switch_port_eth0\":\"pub620a10r31:ethernet1\\/1\\/19 (nomgmt)\",\"serialid\":\"B46WNN1\",\"switch_port_eth1\":\"mgt620a14r38:ethernet1\\/1\\/9 (private) (nomgmt)\",\"management_level\":\"Managed\",\"switch_port_eth2\":\"\",\"backup_schedule\":\"Full - Every week on Tuesday at 9:00 PM\\nRetention: On Site: 28 Days; Off Site: None\\n\",\"switch_port_eth3\":\"\",\"offsite_tape_schedule\":\"\",\"switch_port_eth4\":\"\",\"dc_location_device\":\"\",\"switch_port_eth5\":\"\",\"runbook_instructions_device\":\"\",\"switch_port_eth6\":\"\",\"internal_device_notes\":\"\",\"switch_port_eth7\":\"\",\"switch_port_eth8\":\"\",\"switch_port_eth9\":\"\",\"switch_port_eth10\":\"\",\"switch_port_eth11\":\"\",\"switch_port_eth12\":\"\"},\"modules\":{\"dm_bandwidth\":{\"ports\":{\"switch_port_eth0\":{\"title\":\"pub620a10r31:ethernet1\\/1\\/19\",\"physical_status\":\"UP\",\"admin_status\":\"UP\",\"switch_device_id\":\"103939\",\"switch\":\"pub620a10r31\",\"port_num\":\"ethernet1.1.19\",\"set_admin\":0},\"switch_port_eth1\":{\"title\":\"mgt620a14r38:ethernet1\\/1\\/9\",\"physical_status\":\"UP\",\"admin_status\":\"UP\",\"switch_device_id\":\"100495\",\"switch\":\"mgt620a14r38\",\"port_num\":\"ethernet1.1.9\",\"set_admin\":0}}}},\"module_details\":{\"dm_bandwidth\":{\"title\":\"Bandwidth Monitoring\",\"priority\":\"1\",\"client_access\":\"1\"},\"dm_snmp_monitor\":{\"title\":\"SNMP Monitor\",\"priority\":\"1\",\"client_access\":\"0\"}}}}", { date: 'Sun, 09 Feb 2014 22:08:06 GMT',
    server: 'Apache',
    'x-powered-by': 'PHP/5.3.3',
    'set-cookie':
      [ 'UBERSID=oee7rjl9maquarulp7foh9cjl0; path=/; secure; HttpOnly',
        'UBERSID=0fiqndt9rcjp1cgckhan9gmuv1; path=/; secure; HttpOnly',
        'authchallenge=c69c2d9fe5e17edcb6766bf342495009; path=/' ],
    expires: 'Thu, 19 Nov 1981 08:52:00 GMT',
    'cache-control': 'no-store, no-cache, must-revalidate, post-check=0, pre-check=0',
    pragma: 'no-cache',
    vary: 'Accept-Encoding',
    'content-length': '6976',
    'keep-alive': 'timeout=5, max=100',
    connection: 'Keep-Alive',
    'content-type': 'application/json' });